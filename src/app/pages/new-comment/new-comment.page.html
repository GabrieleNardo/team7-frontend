<ion-header>
  <ion-toolbar>
    <ion-title>{{parentTweet.tweet}}</ion-title>
    <ion-title class="user" size="small">{{getAuthor(parentTweet)}}</ion-title>
    <ion-buttons slot="end">
        <ion-button color="dark" (click)="dismiss()">
          <ion-icon slot="icon-only" name="close"></ion-icon>
        </ion-button>
      </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>

    <ion-list>

        <ion-item-sliding *ngFor="let comment of comments">
    
          <ion-item id='lista_commenti'>
            <ion-label>
              <h2>{{comment.tweet}}</h2>
              <p *ngIf="tweet._author; else userDeleted" class="user" [class.me]="canEdit(comment)">
                  {{ getAuthor(comment) }} 
                  <ion-icon *ngIf="canEdit(comment)" name="heart" color="danger-tint"></ion-icon> 
                </p>
              <ng-template #userDeleted>
                <p class="user-deleted">User deleted</p>
              </ng-template>
      
            </ion-label>
            <ion-note slot="end">{{ comment.created_at }}</ion-note>
          </ion-item>
        </ion-item-sliding>
    
      </ion-list>

    <ion-item>
  
      <ion-label id='comment_field' position="stacked">Write your comment</ion-label>
  
      <ion-textarea minlength="1" maxlength="120" [(ngModel)]="newComment.tweet"></ion-textarea>
  
    </ion-item>
  
  </ion-content>
  
  <ion-footer>
    <ion-toolbar>
      <ion-button expand="full" [disabled]="isDataInvalid()" (click)="createComment()">Comment</ion-button>
    </ion-toolbar>
  </ion-footer>